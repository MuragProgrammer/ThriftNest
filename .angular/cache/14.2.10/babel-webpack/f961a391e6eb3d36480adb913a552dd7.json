{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@app/_services/product.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"./product-card/product-card.component\";\nimport * as i4 from \"./product-filters/product-filters.component\";\nimport * as i5 from \"./product-search/product-search.component\";\n\nfunction AllProductsComponent_app_product_card_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"app-product-card\", 11);\n  }\n\n  if (rf & 2) {\n    const product_r1 = ctx.$implicit;\n    i0.ɵɵproperty(\"product\", product_r1);\n  }\n}\n\nexport let AllProductsComponent = /*#__PURE__*/(() => {\n  class AllProductsComponent {\n    constructor(productService) {\n      this.productService = productService;\n      this.products = [];\n      this.allProducts = [];\n    }\n\n    ngOnInit() {\n      this.productService.getAll().subscribe(data => {\n        this.allProducts = data;\n        this.products = [...this.allProducts];\n      });\n    }\n\n    onSearch(term) {\n      this.applyFilters({\n        search: term\n      });\n    }\n\n    onFilterChange(filters) {\n      this.applyFilters(filters);\n    }\n\n    applyFilters(filters) {\n      let filtered = [...this.allProducts];\n\n      if (filters.search) {\n        filtered = filtered.filter(p => p.name.toLowerCase().includes(filters.search.toLowerCase()));\n      }\n\n      if (filters.category) {\n        filtered = filtered.filter(p => p.category === filters.category);\n      }\n\n      if (filters.price != null) {\n        filtered = filtered.filter(p => p.price <= filters.price);\n      }\n\n      this.products = filtered;\n    }\n\n  }\n\n  AllProductsComponent.ɵfac = function AllProductsComponent_Factory(t) {\n    return new (t || AllProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n  };\n\n  AllProductsComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AllProductsComponent,\n    selectors: [[\"app-all-products\"]],\n    decls: 11,\n    vars: 1,\n    consts: [[1, \"products-page\", \"container\"], [1, \"products-body\"], [1, \"sidebar\"], [3, \"filterChange\"], [1, \"main-content\"], [1, \"top-row\"], [1, \"search-section\"], [3, \"search\"], [1, \"product-list\"], [1, \"product-grid\"], [3, \"product\", 4, \"ngFor\", \"ngForOf\"], [3, \"product\"]],\n    template: function AllProductsComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"aside\", 2)(3, \"app-product-filters\", 3);\n        i0.ɵɵlistener(\"filterChange\", function AllProductsComponent_Template_app_product_filters_filterChange_3_listener($event) {\n          return ctx.onFilterChange($event);\n        });\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"app-product-search\", 7);\n        i0.ɵɵlistener(\"search\", function AllProductsComponent_Template_app_product_search_search_7_listener($event) {\n          return ctx.onSearch($event);\n        });\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"section\", 8)(9, \"div\", 9);\n        i0.ɵɵtemplate(10, AllProductsComponent_app_product_card_10_Template, 1, 1, \"app-product-card\", 10);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(10);\n        i0.ɵɵproperty(\"ngForOf\", ctx.products);\n      }\n    },\n    dependencies: [i2.NgForOf, i3.ProductCardComponent, i4.ProductFiltersComponent, i5.ProductSearchComponent],\n    styles: [\".products-body[_ngcontent-%COMP%]{display:flex;gap:2rem;padding-top:2rem}.sidebar[_ngcontent-%COMP%]{width:20%}.main-content[_ngcontent-%COMP%]{width:80%;display:flex;flex-direction:column;gap:1rem;padding:2rem}.top-row[_ngcontent-%COMP%]{display:flex;gap:1rem}.search-section[_ngcontent-%COMP%]{width:90%}.blank-filter[_ngcontent-%COMP%]{width:40%;background-color:#f3f3f3;min-height:60px;border-radius:6px}.product-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(3,1fr);gap:1.5rem}@media (max-width: 992px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.top-row[_ngcontent-%COMP%]{flex-direction:column}.search-section[_ngcontent-%COMP%], .blank-filter[_ngcontent-%COMP%]{width:100%}}@media (max-width: 600px){.product-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}\"]\n  });\n  return AllProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}